# SmartLoanCalc

Умный калькулятор кредитов с поддержкой сложных сценариев расчета.

## Функции

- **Расчет кредитов**: Аннуитетные и дифференцированные платежи
- **Валюты**: Поддержка RUB, USD, EUR
- **Изменяемые ставки**: Возможность изменения процентной ставки в течение срока кредита
- **Досрочные выплаты**: Поддержка единовременных и периодических досрочных погашений
- **Субсидированная ипотека**: Расчет платежей с субсидией от застройщика
- **История расчетов**: Сохранение и просмотр истории расчетов для авторизованных пользователей

## Технологии

- **Backend**: Java 17, Spring Boot 3.5
- **Frontend**: Thymeleaf, CSS, JavaScript
- **База данных**: H2 (в памяти) / PostgreSQL
- **Безопасность**: Spring Security
- **Документация API**: OpenAPI/Swagger

## Запуск приложения

### Требования

- Java 17 или выше
- Maven 3.6+

### Локальный запуск

1. Клонируйте репозиторий
2. Перейдите в директорию проекта
3. Запустите приложение:

```bash
./mvnw spring-boot:run
```

Приложение будет доступно по адресу: http://localhost:8080

### Доступ к H2 консоли

Консоль базы данных H2 доступна по адресу: http://localhost:8080/h2-console

- **JDBC URL**: `jdbc:h2:mem:naujava`
- **Username**: `sa`
- **Password**: (пустой)

## Использование

### Основные возможности

1. **Калькулятор**: Основная страница с формой расчета кредита
2. **Регистрация/Вход**: Создание аккаунта для сохранения истории расчетов
3. **История**: Просмотр сохраненных расчетов (требуется авторизация)

### API документация

Документация API доступна через Swagger UI: http://localhost:8080/swagger-ui.html

## Структура проекта

```
src/
├── main/
│   ├── java/ru/Roman/NauJava/
│   │   ├── config/          # Конфигурация приложения
│   │   ├── controller/      # REST и MVC контроллеры
│   │   ├── domain/          # Сущности и перечисления
│   │   ├── dto/             # Data Transfer Objects
│   │   ├── mapper/          # Мапперы для преобразования данных
│   │   ├── repository/      # Репозитории для работы с БД
│   │   ├── service/         # Бизнес-логика
│   │   └── NauJavaApplication.java
│   └── resources/
│       ├── static/          # Статические ресурсы (CSS, JS)
│       ├── templates/       # Thymeleaf шаблоны
│       └── application.properties
└── test/                    # Тесты
```

## Разработка

### Сборка проекта

```bash
./mvnw clean package
```

### Запуск тестов

```bash
./mvnw test
```

## Конфигурация

Основные настройки в файле `application.properties`:

- **База данных**: H2 в памяти (по умолчанию) или PostgreSQL
- **Логирование**: Уровень DEBUG для пакета приложения
- **Безопасность**: Spring Security с форм-based аутентификацией

## Автор

Roman Akhidov
